<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SketchInput</title>
    <link rel="stylesheet" href="<@css_path@>">
    <link href='fonts/roboto.css' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div id="si-container">
      <div id="si-placeholder">
        Loading SketchInput...
      </div>
    </div>
    <script src="<@systemjs_path@>"></script>
    <script src="<@configjs_path@>"></script>
    <script>
      var config, si;

      try {
        config = (window.location.hash === '#debug') ? {} :
          JSON.parse(atob(
            window.location.hash
              .slice(1)
              .replace(/-/g, '+')
              .replace(/_/g, '/')
          ));
      }
      catch (error) {
        document.getElementById('si-placeholder').textContent =
          'Could not parse problem configuration data';
        throw error;
      }

      System.import('lib/main').then(function(main) {
        si = new main.default(document.getElementById('si-container'), config);
      });
    </script>
  </body>
</html>
